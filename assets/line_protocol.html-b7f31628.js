import{_ as d,X as _,Y as u,$ as e,a1 as t,Z as o,a0 as n,C as l}from"./framework-1e2d737a.js";const p={},b=e("p",null,"Line protocol is a text-based format proposed by InfluxDB, and openGemini support the same line protocol to write data.",-1),h={href:"https://docs.influxdata.com/influxdb/cloud/reference/syntax/line-protocol/",target:"_blank",rel:"noopener noreferrer"},v=e("h2",{id:"write-data",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#write-data","aria-hidden":"true"},"#"),t(" Write data")],-1),m=e("p",null,[t("Use the ts-cli command to write data into the openGemini database, and place the "),e("code",null,"Insert"),t(" in front of the line procotol:")],-1),f=e("div",{class:"language-sql line-numbers-mode","data-ext":"sql"},[e("pre",{class:"language-sql"},[e("code",null,[e("span",{class:"token operator"},">"),t(),e("span",{class:"token keyword"},"INSERT"),t(" h2o_feet"),e("span",{class:"token punctuation"},","),t("location"),e("span",{class:"token operator"},"="),t("coyote_creek water_level"),e("span",{class:"token operator"},"="),e("span",{class:"token number"},"2.927"),e("span",{class:"token punctuation"},","),t("description"),e("span",{class:"token operator"},"="),e("span",{class:"token string"},'"below 3 feet"'),t(),e("span",{class:"token number"},"1566102600"),t(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),w=e("p",null,"Import Line protocol data from a file using the CLIï¼Œsuppose the data is saved in the file data.txt in line protocol format",-1),k=e("div",{class:"language-text line-numbers-mode","data-ext":"text"},[e("pre",{class:"language-text"},[e("code",null,`// data.txt
h2o_feet,location=coyote_creek water_level=2.927,description="below 3 feet" 1566102600
h2o_feet,location=coyote_creek water_level=2.831,description="below 3 feet" 1566102960
h2o_feet,location=coyote_creek water_level=2.743,description="below 3 feet" 1566103320
h2o_feet,location=coyote_creek water_level=2.667,description="below 3 feet" 1566103680
h2o_feet,location=coyote_creek water_level=2.589,description="below 3 feet" 1566104040
h2o_feet,location=coyote_creek water_level=2.523,description="below 3 feet" 1566104400
h2o_feet,location=coyote_creek water_level=2.464,description="below 3 feet" 1566104760
h2o_feet,location=coyote_creek water_level=2.408,description="below 3 feet" 1566105120
h2o_feet,location=coyote_creek water_level=2.379,description="below 3 feet" 1566105480
h2o_feet,location=coyote_creek water_level=2.352,description="below 3 feet" 1566105840
h2o_feet,location=coyote_creek water_level=2.343,description="below 3 feet" 1566106200
h2o_feet,location=coyote_creek water_level=2.346,description="below 3 feet" 1566106560
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),x=e("p",null,"Run the following command",-1),g=e("div",{class:"language-text line-numbers-mode","data-ext":"text"},[e("pre",{class:"language-text"},[e("code",null,`> ts-cli -import -path=data.txt -host=127.0.0.1 -port=8086 -precision=s
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),y=e("ul",null,[e("li",null,[t("Use the HTTP API to write data to openGemini"),e("br"),t(" use "),e("code",null,"POST"),t(" to make a request to the `/write method, and provide your line protocol in the request body:")])],-1),I=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"curl"),t(),e("span",{class:"token parameter variable"},"-i"),t(),e("span",{class:"token parameter variable"},"-XPOST"),t(),e("span",{class:"token string"},'"http://localhost:8086/write?db=science_is_cool"'),t(" --data-binary "),e("span",{class:"token string"},`'h2o_feet,location=coyote_creek water_level=2.927,description="below 3 feet" 1566102600'`),t(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),T=e("ul",null,[e("li",null,"Write data in batches")],-1),P=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"curl"),t(),e("span",{class:"token parameter variable"},"-i"),t(),e("span",{class:"token parameter variable"},"-XPOST"),t(),e("span",{class:"token string"},'"http://localhost:8086/write?db=db0"'),t(" --data-binary "),e("span",{class:"token string"},`'
h2o_feet,location=coyote_creek water_level=2.927,description="below 3 feet" 1566102600
h2o_feet,location=coyote_creek water_level=2.831,description="below 3 feet" 1566102960
h2o_feet,location=coyote_creek water_level=2.743,description="below 3 feet" 1566103320
'`),t(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),L=e("ul",null,[e("li",null,"Write file data suppose the data is saved in the file data.txt in line protocol format")],-1),q=e("div",{class:"language-text line-numbers-mode","data-ext":"text"},[e("pre",{class:"language-text"},[e("code",null,`// data.txt
h2o_feet,location=coyote_creek water_level=2.927,description="below 3 feet" 1566102600
h2o_feet,location=coyote_creek water_level=2.831,description="below 3 feet" 1566102960
h2o_feet,location=coyote_creek water_level=2.743,description="below 3 feet" 1566103320
h2o_feet,location=coyote_creek water_level=2.667,description="below 3 feet" 1566103680
h2o_feet,location=coyote_creek water_level=2.589,description="below 3 feet" 1566104040
h2o_feet,location=coyote_creek water_level=2.523,description="below 3 feet" 1566104400
h2o_feet,location=coyote_creek water_level=2.464,description="below 3 feet" 1566104760
h2o_feet,location=coyote_creek water_level=2.408,description="below 3 feet" 1566105120
h2o_feet,location=coyote_creek water_level=2.379,description="below 3 feet" 1566105480
h2o_feet,location=coyote_creek water_level=2.352,description="below 3 feet" 1566105840
h2o_feet,location=coyote_creek water_level=2.343,description="below 3 feet" 1566106200
h2o_feet,location=coyote_creek water_level=2.346,description="below 3 feet" 1566106560
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),A=e("p",null,"Use the following command to write data into openGemini",-1),B=e("div",{class:"language-text line-numbers-mode","data-ext":"text"},[e("pre",{class:"language-text"},[e("code",null,`> curl -i -XPOST 'http://localhost:8086/write?db=db0' --data-binary @data.txt
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1);function C(S,E){const a=l("ExternalLinkIcon"),s=l("Tabs");return _(),u("div",null,[b,e("blockquote",null,[e("p",null,[t("About line protocol, please see "),e("a",h,[t("InfluxDB Line Protocol"),o(a)])])]),v,o(s,{id:"11",data:[{title:"CLI"},{title:"API"}]},{tab0:n(({title:i,value:c,isActive:r})=>[m,f,w,k,x,g]),tab1:n(({title:i,value:c,isActive:r})=>[y,I,T,P,L,q,A,B]),_:1})])}const N=d(p,[["render",C],["__file","line_protocol.html.vue"]]);export{N as default};
