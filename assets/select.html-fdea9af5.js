import{_ as r,X as c,Y as i,$ as n,a1 as s,Z as a,a0 as e,a3 as t,C as l}from"./framework-1e2d737a.js";const d={},k=n("h2",{id:"样本数据",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#样本数据","aria-hidden":"true"},"#"),s(" 样本数据")],-1),u=t('<p>以下部分中的示例查询均按照上述样本数据进行操作。</p><h2 id="客户端" tabindex="-1"><a class="header-anchor" href="#客户端" aria-hidden="true">#</a> 客户端</h2><p>在学习查询语句之前，需要使用客户端ts-cli连接openGemini：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ ts-cli <span class="token parameter variable">-database</span> NOAA_water_database\nopenGemini CLI <span class="token number">0.1</span>.0 <span class="token punctuation">(</span>rev-revision<span class="token punctuation">)</span>\nPlease use <span class="token variable"><span class="token variable">`</span>quit<span class="token variable">`</span></span>, <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">exit</span><span class="token variable">`</span></span> or <span class="token variable"><span class="token variable">`</span>Ctrl-D<span class="token variable">`</span></span> to <span class="token builtin class-name">exit</span> this program.\n<span class="token operator">&gt;</span> \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="select" tabindex="-1"><a class="header-anchor" href="#select" aria-hidden="true">#</a> SELECT</h2><p><code>SELECT</code> 语句执行数据检索。 默认情况下，请求的数据将返回给客户端，同时结合 <a href="">SELECT INTO</a> 可以被转发到不同的表。</p><h3 id="语法" tabindex="-1"><a class="header-anchor" href="#语法" aria-hidden="true">#</a> 语法</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> COLUMN_CLAUSES FROM_CLAUSE\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="select子句" tabindex="-1"><a class="header-anchor" href="#select子句" aria-hidden="true">#</a> SELECT子句</h3><p><code>SELECT</code> 子句支持下面的格式:</p><table><thead><tr><th>格式</th><th>含义</th></tr></thead><tbody><tr><td><code>SELECT *</code></td><td>返回所有的tag和field</td></tr><tr><td><code>SELECT &quot;&lt;field_key&gt;&quot;</code></td><td>返回指定的field</td></tr><tr><td><code>SELECT &quot;&lt;field_key&gt;&quot;,&quot;&lt;field_key&gt;&quot;</code></td><td>返回多个指定的field</td></tr><tr><td><code>SELECT &quot;&lt;field_key&gt;&quot;,&quot;&lt;tag_key&gt;&quot;</code></td><td>返回指定的field和tag。如果指定了tag，则必须指定至少一个field</td></tr><tr><td><code>SELECT &quot;&lt;field_key&gt;&quot;::field,&quot;&lt;tag_key&gt;&quot;::tag</code></td><td>返回特定field和tag。 ::[field | tag] 语法指定标识符类型。使用此语法区分具有相同名称的field和tag</td></tr></tbody></table>',11),m=n("a",{href:""},"正则表达式",-1),b=t(`<div class="hint-container tip"><p class="hint-container-title">提示</p><p>SELECT 语句不能同时包含<mark>聚合函数</mark><strong>和</strong><mark>非聚合函数、field_key或tag_key</mark>。</p></div><h3 id="from子句" tabindex="-1"><a class="header-anchor" href="#from子句" aria-hidden="true">#</a> FROM子句</h3><p><code>FROM</code> 子句指定从以下数据源中读取数据:</p><ul><li>表</li><li>子查询</li></ul><p>支持的格式：</p><table><thead><tr><th>格式</th><th>含义</th></tr></thead><tbody><tr><td><code>FROM &lt;measurement_name&gt;</code></td><td>从单个表中获取数据</td></tr><tr><td><code>FROM &lt;measurement_name&gt;,&lt;measurement_name&gt;</code></td><td>从多个表中获取数据</td></tr><tr><td><code>FROM &lt;database_name&gt;.&lt;retention_policy_name&gt;.&lt;measurement_name&gt;</code></td><td>从指定的database，指定的retention_policy，指定的表中获取数据</td></tr><tr><td><code>FROM &lt;database_name&gt;..&lt;measurement_name&gt;</code></td><td>从指定的database，默认的retention_policy，指定的表中获取数据</td></tr><tr><td><code>FROM /&lt;regular_expression_measurement&gt;/</code></td><td>用正则表达式匹配对应的表，获取数据</td></tr></tbody></table><h3 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> 示例</h3><p>从一个表中查询的所有的field和tags。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&quot;h2o_feet&quot;</span>
name: h2o_feet
<span class="token keyword">time</span>                 <span class="token keyword">level</span> description         location     water_level
<span class="token comment">----                 -----------------         --------     -----------</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">17</span>T00:<span class="token number">00</span>:<span class="token number">00</span>Z below <span class="token number">3</span> feet              santa_monica <span class="token number">2.064</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">17</span>T00:<span class="token number">00</span>:<span class="token number">00</span>Z <span class="token operator">between</span> <span class="token number">6</span> <span class="token operator">and</span> <span class="token number">9</span> feet      coyote_creek <span class="token number">8.12</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">17</span>T00:<span class="token number">06</span>:<span class="token number">00</span>Z below <span class="token number">3</span> feet              santa_monica <span class="token number">2.116</span>
<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">17</span>T21:<span class="token number">30</span>:<span class="token number">00</span>Z <span class="token operator">between</span> <span class="token number">3</span> <span class="token operator">and</span> <span class="token number">6</span> feet      santa_monica <span class="token number">5.01</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">17</span>T21:<span class="token number">36</span>:<span class="token number">00</span>Z <span class="token operator">between</span> <span class="token number">3</span> <span class="token operator">and</span> <span class="token number">6</span> feet      santa_monica <span class="token number">5.066</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">17</span>T21:<span class="token number">42</span>:<span class="token number">00</span>Z <span class="token operator">between</span> <span class="token number">3</span> <span class="token operator">and</span> <span class="token number">6</span> feet      santa_monica <span class="token number">4.938</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从一个表查询指定field的top 5数据</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token keyword">top</span><span class="token punctuation">(</span><span class="token string">&quot;water_level&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span>
name: h2o_feet
<span class="token keyword">time</span>                 <span class="token keyword">top</span>
<span class="token comment">----                 ---</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">28</span>T07:<span class="token number">12</span>:<span class="token number">00</span>Z <span class="token number">9.938</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">28</span>T07:<span class="token number">18</span>:<span class="token number">00</span>Z <span class="token number">9.957</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">28</span>T07:<span class="token number">24</span>:<span class="token number">00</span>Z <span class="token number">9.964</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">28</span>T07:<span class="token number">30</span>:<span class="token number">00</span>Z <span class="token number">9.954</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">28</span>T07:<span class="token number">36</span>:<span class="token number">00</span>Z <span class="token number">9.941</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从一个表中查询最新的一条记录并查询对应tag。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token function">last</span><span class="token punctuation">(</span><span class="token string">&quot;water_level&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> location <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span>
name: h2o_feet
<span class="token keyword">time</span>                 <span class="token keyword">last</span>  location
<span class="token comment">----                 ----  --------</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">17</span>T21:<span class="token number">42</span>:<span class="token number">00</span>Z <span class="token number">4.938</span> santa_monica
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从一个表中查询所有数据并做一些基础运算。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token punctuation">(</span><span class="token string">&quot;water_level&quot;</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span> <span class="token keyword">limit</span> <span class="token number">10</span>
name: h2o_feet
<span class="token keyword">time</span>                 water_level
<span class="token comment">----                 -----------</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">17</span>T00:<span class="token number">00</span>:<span class="token number">00</span>Z <span class="token number">10.256</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">17</span>T00:<span class="token number">00</span>:<span class="token number">00</span>Z <span class="token number">34.48</span>
<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">17</span>T21:<span class="token number">36</span>:<span class="token number">00</span>Z <span class="token number">22.264</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">17</span>T21:<span class="token number">42</span>:<span class="token number">00</span>Z <span class="token number">21.752</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="where" tabindex="-1"><a class="header-anchor" href="#where" aria-hidden="true">#</a> WHERE</h2><p><code>WHERE</code>子句根据field、tag、timestamp来过滤数据。</p><h3 id="语法-1" tabindex="-1"><a class="header-anchor" href="#语法-1" aria-hidden="true">#</a> 语法</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> COLUMN_CLAUSES FROM_CLAUSE <span class="token keyword">WHERE</span> <span class="token operator">&lt;</span>CONDITION<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token operator">AND</span><span class="token operator">|</span><span class="token operator">OR</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span>CONDITION<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,19),v=t(`<div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>tag_key <span class="token operator">&lt;</span>operator<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token string">&#39;tag_value&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在<code>WHERE</code>子句中，请对<code>tag value</code>用单引号括起来。如果<code>tag value</code>没有使用引号或者使用了双引号，那么不会返回任何查询结果，在大多数情况下，也不会返回错误。</p><p>支持的 operator 有：</p><table><thead><tr><th style="text-align:center;">操作符</th><th style="text-align:left;">含义</th></tr></thead><tbody><tr><td style="text-align:center;"><code>=</code></td><td style="text-align:left;">等于</td></tr><tr><td style="text-align:center;"><code>&lt;&gt;</code></td><td style="text-align:left;">不等于</td></tr><tr><td style="text-align:center;"><code>!=</code></td><td style="text-align:left;">不等于</td></tr></tbody></table><p>operator还支持：正则表达式。</p>`,5),g=t(`<div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>field_key <span class="token operator">&lt;</span>operator<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token string">&#39;string&#39;</span> <span class="token operator">|</span> <span class="token keyword">boolean</span> <span class="token operator">|</span> <span class="token keyword">float</span> <span class="token operator">|</span> <span class="token keyword">integer</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>WHERE</code>子句支持对<code>field value</code>进行比较，<code>field value</code>可以是字符串、布尔值、浮点数或者整数。</p><p>在<code>WHERE</code>子句中，请对字符串类型的<code>field value</code>用单引号括起来。如果字符串类型的field value没有使用引号或者使用了双引号，那么不会返回任何查询结果，在大多数情况下，也不会返回错误。</p><p>支持的 operator 有：</p><table><thead><tr><th style="text-align:center;">操作符</th><th style="text-align:left;">含义</th></tr></thead><tbody><tr><td style="text-align:center;"><code>=</code></td><td style="text-align:left;">等于</td></tr><tr><td style="text-align:center;"><code>&lt;&gt;</code></td><td style="text-align:left;">不等于</td></tr><tr><td style="text-align:center;"><code>!=</code></td><td style="text-align:left;">不等于</td></tr><tr><td style="text-align:center;"><code>&gt;</code></td><td style="text-align:left;">大于</td></tr><tr><td style="text-align:center;"><code>&gt;=</code></td><td style="text-align:left;">大于等于</td></tr><tr><td style="text-align:center;"><code>&lt;</code></td><td style="text-align:left;">小于</td></tr><tr><td style="text-align:center;"><code>&lt;=</code></td><td style="text-align:left;">小于等于</td></tr></tbody></table><p>operator还支持：算术运算和正则表达式。</p>`,6),h=t(`<p>对于大多数<code>SELECT</code>语句，默认的时间范围是全部时间范围。对于带<code>GROUP BY time()</code>子句的<code>SELECT</code>语句，默认的时间范围是从<strong>时间最小的数据的时间</strong><code>到</code>now()\`。</p><h3 id="示例-1" tabindex="-1"><a class="header-anchor" href="#示例-1" aria-hidden="true">#</a> 示例</h3><ul><li><strong>查询field value满足一定条件的数据</strong></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span> <span class="token keyword">WHERE</span> <span class="token string">&quot;water_level&quot;</span> <span class="token operator">&gt;</span> <span class="token number">8</span>
name: h2o_feet
<span class="token operator">+</span><span class="token comment">---------------------+---------------------------+--------------+-------------+</span>
<span class="token operator">|</span> <span class="token keyword">time</span>                <span class="token operator">|</span> <span class="token keyword">level</span> description         <span class="token operator">|</span> location     <span class="token operator">|</span> water_level <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+---------------------------+--------------+-------------+</span>
<span class="token operator">|</span> <span class="token number">1566000000000000000</span> <span class="token operator">|</span> <span class="token operator">between</span> <span class="token number">6</span> <span class="token operator">and</span> <span class="token number">9</span> feet      <span class="token operator">|</span> coyote_creek <span class="token operator">|</span> <span class="token number">8.12</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566000360000000000</span> <span class="token operator">|</span> <span class="token operator">between</span> <span class="token number">6</span> <span class="token operator">and</span> <span class="token number">9</span> feet      <span class="token operator">|</span> coyote_creek <span class="token operator">|</span> <span class="token number">8.005</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>                                                                     <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1568679120000000000</span> <span class="token operator">|</span> <span class="token operator">between</span> <span class="token number">6</span> <span class="token operator">and</span> <span class="token number">9</span> feet      <span class="token operator">|</span> coyote_creek <span class="token operator">|</span> <span class="token number">8.189</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1568679480000000000</span> <span class="token operator">|</span> <span class="token operator">between</span> <span class="token number">6</span> <span class="token operator">and</span> <span class="token number">9</span> feet      <span class="token operator">|</span> coyote_creek <span class="token operator">|</span> <span class="token number">8.084</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+---------------------------+--------------+-------------+</span>
<span class="token number">4</span> <span class="token keyword">columns</span><span class="token punctuation">,</span> <span class="token number">1503</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该查询返回<code>h2o_feet</code>中的数据，这些数据满足条件：field key <code>water_level</code>的值大于8。</p><ul><li><strong>查询field value和tag value都满足一定条件的数据</strong></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token string">&quot;water_level&quot;</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span> <span class="token keyword">WHERE</span> <span class="token string">&quot;location&quot;</span> <span class="token operator">&lt;&gt;</span> <span class="token string">&#39;santa_monica&#39;</span> <span class="token operator">AND</span> <span class="token punctuation">(</span>water_level <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">0.57</span> <span class="token operator">OR</span> water_level <span class="token operator">&gt;</span> <span class="token number">9.95</span><span class="token punctuation">)</span>
name: h2o_feet
<span class="token operator">+</span><span class="token comment">---------------------+-------------+</span>
<span class="token operator">|</span> <span class="token keyword">time</span>                <span class="token operator">|</span> water_level <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------------+</span>
<span class="token operator">|</span> <span class="token number">1566976680000000000</span> <span class="token operator">|</span> <span class="token number">9.957</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566977040000000000</span> <span class="token operator">|</span> <span class="token number">9.964</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566977400000000000</span> <span class="token operator">|</span> <span class="token number">9.954</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1567002240000000000</span> <span class="token operator">|</span> <span class="token operator">-</span><span class="token number">0.587</span>      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1567002600000000000</span> <span class="token operator">|</span> <span class="token operator">-</span><span class="token number">0.61</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1567002960000000000</span> <span class="token operator">|</span> <span class="token operator">-</span><span class="token number">0.591</span>      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1567091880000000000</span> <span class="token operator">|</span> <span class="token operator">-</span><span class="token number">0.594</span>      <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1567092240000000000</span> <span class="token operator">|</span> <span class="token operator">-</span><span class="token number">0.571</span>      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------------+</span>
<span class="token number">2</span> <span class="token keyword">columns</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>查询timestamp满足一定条件的数据</strong></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span> <span class="token keyword">WHERE</span> <span class="token keyword">time</span> <span class="token operator">&gt;</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">7</span>d
Elapsed: <span class="token number">1.062851</span>ms
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>没有满足过去7天内的数据。</p><h2 id="group-by" tabindex="-1"><a class="header-anchor" href="#group-by" aria-hidden="true">#</a> GROUP BY</h2><p><code>GROUP BY</code>子句按用户指定的tag或者时间区间对查询结果进行分组。</p><p><code>GROUP BY</code>子句按以下方式对查询结果进行分组：</p><ul><li>一个或多个指定的<code>tags</code></li><li>指定的时间间隔</li></ul><div class="hint-container warning"><p class="hint-container-title">注意</p><p>不能使用<code>GROUP BY</code>对<code>fields</code>进行分组</p></div><h3 id="语法-2" tabindex="-1"><a class="header-anchor" href="#语法-2" aria-hidden="true">#</a> 语法</h3>`,16),y=t(`<p>按标签分组</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> COLUMN_CLAUSES FROM_CLAUSE <span class="token punctuation">[</span>WHERE_CLAUSE<span class="token punctuation">]</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token punctuation">[</span><span class="token operator">*</span> <span class="token operator">|</span> <span class="token operator">&lt;</span>tag_key<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token operator">&lt;</span>tag_key<span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,2),_=t(`<p><code>GROUP BY time()</code>按用户指定的时间间隔对查询结果进行分组，time和tag可以一起分组。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> COLUMN_CLAUSES FROM_CLAUSE <span class="token punctuation">[</span>WHERE_CLAUSE<span class="token punctuation">]</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token keyword">time</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>time_interval<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">[</span>tag_key<span class="token punctuation">]</span> <span class="token punctuation">[</span>fill<span class="token punctuation">(</span><span class="token operator">&lt;</span>fill_option<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,2),w=n("p",null,[n("code",null,"GROUP BY time()"),s("子句中的"),n("code",null,"time_interval"),s("（时间间隔）是一个持续时间（duration），决定了openGemini按多大的时间间隔将查询结果进行分组。例如，当"),n("code",null,"time_interval"),s("为"),n("code",null,"5m"),s("时，那么在"),n("code",null,"WHERE"),s("子句中指定的时间范围内，将查询结果按5分钟进行分组。")],-1),E=t(`<p><code>fill(&lt;fill_option&gt;)</code>是可选的，它会改变不含数据的时间间隔的返回值。</p><h3 id="示例-2" tabindex="-1"><a class="header-anchor" href="#示例-2" aria-hidden="true">#</a> 示例</h3><ul><li><strong>按单个tag对查询结果进行分组</strong></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> MEAN<span class="token punctuation">(</span><span class="token string">&quot;water_level&quot;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token string">&quot;location&quot;</span>
name: h2o_feet
tags: location<span class="token operator">=</span>coyote_creek
<span class="token operator">+</span><span class="token comment">------+--------------------+</span>
<span class="token operator">|</span> <span class="token keyword">time</span> <span class="token operator">|</span> mean               <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------------------+</span>
<span class="token operator">|</span> <span class="token number">0</span>    <span class="token operator">|</span> <span class="token number">5.3591424203039155</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------------------+</span>
<span class="token number">2</span> <span class="token keyword">columns</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span>

name: h2o_feet
tags: location<span class="token operator">=</span>santa_monica
<span class="token operator">+</span><span class="token comment">------+--------------------+</span>
<span class="token operator">|</span> <span class="token keyword">time</span> <span class="token operator">|</span> mean               <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------------------+</span>
<span class="token operator">|</span> <span class="token number">0</span>    <span class="token operator">|</span> <span class="token number">3.5307120942458803</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+--------------------+</span>
<span class="token number">2</span> <span class="token keyword">columns</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>将查询结果按12分钟的时间间隔进行分组</strong></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token string">&quot;water_level&quot;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span> <span class="token keyword">WHERE</span> <span class="token keyword">time</span> <span class="token operator">&gt;=</span> <span class="token string">&#39;2019-08-18T00:00:00Z&#39;</span> <span class="token operator">AND</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token string">&#39;2019-08-18T00:30:00Z&#39;</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token keyword">time</span><span class="token punctuation">(</span><span class="token number">12</span>m<span class="token punctuation">)</span>
name: h2o_feet
<span class="token operator">+</span><span class="token comment">---------------------+-------+</span>
<span class="token operator">|</span> <span class="token keyword">time</span>                <span class="token operator">|</span> count <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------+</span>
<span class="token operator">|</span> <span class="token number">1566086400000000000</span> <span class="token operator">|</span> <span class="token number">4</span>     <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566087120000000000</span> <span class="token operator">|</span> <span class="token number">4</span>     <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566087840000000000</span> <span class="token operator">|</span> <span class="token number">4</span>     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------+</span>
<span class="token number">2</span> <span class="token keyword">columns</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="order-by" tabindex="-1"><a class="header-anchor" href="#order-by" aria-hidden="true">#</a> ORDER BY</h2><p>openGemini 默认按递增的时间顺序返回结果。第一个返回的数据点，其时间戳是最早的，而最后一个返回的数据点，其时间戳是最新的。<code>ORDER BY time DESC</code>将默认的时间顺序调转，使得openGemini首先返回有最新时间戳的数据点，也就是说，按递减的时间顺序返回结果。</p><p><code>ORDER BY</code> 子句仅支持对time排序。</p><h3 id="语法-3" tabindex="-1"><a class="header-anchor" href="#语法-3" aria-hidden="true">#</a> 语法</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> COLUMN_CLAUSES FROM_CLAUSE <span class="token punctuation">[</span>WHERE_CLAUSE<span class="token punctuation">]</span> <span class="token punctuation">[</span>GROUP_BY_CLAUSE<span class="token punctuation">]</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token keyword">time</span> <span class="token punctuation">[</span><span class="token keyword">ASC</span><span class="token operator">|</span><span class="token keyword">DESC</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="示例-3" tabindex="-1"><a class="header-anchor" href="#示例-3" aria-hidden="true">#</a> 示例</h3><ul><li><strong>首先返回最新的点</strong></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token string">&quot;water_level&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;location&quot;</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span> <span class="token keyword">WHERE</span> <span class="token keyword">time</span> <span class="token operator">&gt;=</span> <span class="token string">&#39;2019-08-18T00:00:00Z&#39;</span> <span class="token operator">AND</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token string">&#39;2019-08-18T00:30:00Z&#39;</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token keyword">time</span> <span class="token keyword">DESC</span>
name: h2o_feet
<span class="token operator">+</span><span class="token comment">---------------------+-------------+--------------+</span>
<span class="token operator">|</span> <span class="token keyword">time</span>                <span class="token operator">|</span> water_level <span class="token operator">|</span> location     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------------+--------------+</span>
<span class="token operator">|</span> <span class="token number">1566088200000000000</span> <span class="token operator">|</span> <span class="token number">2.267</span>       <span class="token operator">|</span> santa_monica <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566088200000000000</span> <span class="token operator">|</span> <span class="token number">8.012</span>       <span class="token operator">|</span> coyote_creek <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566087840000000000</span> <span class="token operator">|</span> <span class="token number">2.264</span>       <span class="token operator">|</span> santa_monica <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566087840000000000</span> <span class="token operator">|</span> <span class="token number">8.13</span>        <span class="token operator">|</span> coyote_creek <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566087480000000000</span> <span class="token operator">|</span> <span class="token number">2.329</span>       <span class="token operator">|</span> santa_monica <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566087480000000000</span> <span class="token operator">|</span> <span class="token number">8.225</span>       <span class="token operator">|</span> coyote_creek <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566087120000000000</span> <span class="token operator">|</span> <span class="token number">2.343</span>       <span class="token operator">|</span> santa_monica <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566087120000000000</span> <span class="token operator">|</span> <span class="token number">8.32</span>        <span class="token operator">|</span> coyote_creek <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566086760000000000</span> <span class="token operator">|</span> <span class="token number">2.379</span>       <span class="token operator">|</span> santa_monica <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566086760000000000</span> <span class="token operator">|</span> <span class="token number">8.419</span>       <span class="token operator">|</span> coyote_creek <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566086400000000000</span> <span class="token operator">|</span> <span class="token number">2.352</span>       <span class="token operator">|</span> santa_monica <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566086400000000000</span> <span class="token operator">|</span> <span class="token number">8.504</span>       <span class="token operator">|</span> coyote_creek <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------------+--------------+</span>
<span class="token number">3</span> <span class="token keyword">columns</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>首先返回最新的点并且包含<code>GROUP BY time()</code>子句</strong></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token string">&quot;water_level&quot;</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span> <span class="token keyword">WHERE</span> <span class="token keyword">time</span> <span class="token operator">&gt;=</span> <span class="token string">&#39;2019-08-18T00:00:00Z&#39;</span> <span class="token operator">AND</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token string">&#39;2019-08-18T00:30:00Z&#39;</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token keyword">time</span><span class="token punctuation">(</span><span class="token number">12</span>m<span class="token punctuation">)</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token keyword">time</span> <span class="token keyword">DESC</span>
name: h2o_feet
<span class="token operator">+</span><span class="token comment">---------------------+-------+</span>
<span class="token operator">|</span> <span class="token keyword">time</span>                <span class="token operator">|</span> count <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------+</span>
<span class="token operator">|</span> <span class="token number">1566087840000000000</span> <span class="token operator">|</span> <span class="token number">4</span>     <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566087120000000000</span> <span class="token operator">|</span> <span class="token number">4</span>     <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566086400000000000</span> <span class="token operator">|</span> <span class="token number">4</span>     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------+</span>
<span class="token number">2</span> <span class="token keyword">columns</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="limit-offset" tabindex="-1"><a class="header-anchor" href="#limit-offset" aria-hidden="true">#</a> LIMIT OFFSET</h2><p><code>LIMIT &lt;N&gt;</code> 子句是限制每个查询返回的数据点个数。LIMIT可以单独使用</p><p><code>OFFSET &lt;N&gt;</code>子句表示从查询结果中的第<code>N</code>个数据点开始返回</p><h3 id="语法-4" tabindex="-1"><a class="header-anchor" href="#语法-4" aria-hidden="true">#</a> 语法</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> COLUMN_CLAUSES FROM_CLAUSE <span class="token punctuation">[</span>WHERE_CLAUSE<span class="token punctuation">]</span> <span class="token punctuation">[</span>GROUP_BY_CLAUSE<span class="token punctuation">]</span> <span class="token punctuation">[</span>ORDER_BY_CLAUSE<span class="token punctuation">]</span> <span class="token keyword">LIMIT</span> <span class="token operator">&lt;</span>N1<span class="token operator">&gt;</span> <span class="token keyword">OFFSET</span> <span class="token operator">&lt;</span>N2<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>N2</code>表示从第<code>N2</code>个数据点开始返回，返回指定measurement的前<code>N1</code>个数据点，不会返回所有时间线的数据。</p><h3 id="示例-4" tabindex="-1"><a class="header-anchor" href="#示例-4" aria-hidden="true">#</a> 示例</h3><ul><li><strong>同时指定数据点返回的位置和数据量</strong></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token string">&quot;water_level&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;location&quot;</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span> <span class="token keyword">LIMIT</span> <span class="token number">3</span> <span class="token keyword">OFFSET</span> <span class="token number">3</span>
name: h2o_feet
<span class="token operator">+</span><span class="token comment">---------------------+-------------+--------------+</span>
<span class="token operator">|</span> <span class="token keyword">time</span>                <span class="token operator">|</span> water_level <span class="token operator">|</span> location     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------------+--------------+</span>
<span class="token operator">|</span> <span class="token number">1566000360000000000</span> <span class="token operator">|</span> <span class="token number">2.116</span>       <span class="token operator">|</span> santa_monica <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566000720000000000</span> <span class="token operator">|</span> <span class="token number">7.887</span>       <span class="token operator">|</span> coyote_creek <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566000720000000000</span> <span class="token operator">|</span> <span class="token number">2.028</span>       <span class="token operator">|</span> santa_monica <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------------+--------------+</span>
<span class="token number">3</span> <span class="token keyword">columns</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该查询从measurement <code>h2o_feet</code>中返回第四、第五和第六个数据点。如果以上查询语句中没有使用<code>OFFSET 3</code>，那么查询将返回该measurement的第一、第二和第三个数据点。</p><h2 id="timezone" tabindex="-1"><a class="header-anchor" href="#timezone" aria-hidden="true">#</a> TIMEZONE</h2><p><code>tz()</code>子句返回指定时区的UTC偏移量。</p><h3 id="语法-5" tabindex="-1"><a class="header-anchor" href="#语法-5" aria-hidden="true">#</a> 语法</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> COLUMN_CLAUSES FROM_CLAUSE <span class="token punctuation">[</span>WHERE_CLAUSE<span class="token punctuation">]</span> <span class="token punctuation">[</span>GROUP_BY_CLAUSE<span class="token punctuation">]</span> <span class="token punctuation">[</span>LIMIT_CLAUSE<span class="token punctuation">]</span> <span class="token punctuation">[</span>OFFSET_CLAUSE<span class="token punctuation">]</span> tz<span class="token punctuation">(</span><span class="token string">&#39;&lt;time_zone&gt;&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>openGemini 默认以UTC格式存储和返回时间戳。</p><h3 id="示例-5" tabindex="-1"><a class="header-anchor" href="#示例-5" aria-hidden="true">#</a> 示例</h3><ul><li><strong>返回America/Chicago时区的UTC偏移量</strong></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token string">&quot;water_level&quot;</span> <span class="token keyword">FROM</span> <span class="token string">&quot;h2o_feet&quot;</span> <span class="token keyword">WHERE</span> <span class="token string">&quot;location&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;santa_monica&#39;</span> <span class="token operator">AND</span> <span class="token keyword">time</span> <span class="token operator">&gt;=</span> <span class="token string">&#39;2019-08-18T00:00:00Z&#39;</span> <span class="token operator">AND</span> <span class="token keyword">time</span> <span class="token operator">&lt;=</span> <span class="token string">&#39;2019-08-18T00:18:00Z&#39;</span> tz<span class="token punctuation">(</span><span class="token string">&#39;America/Chicago&#39;</span><span class="token punctuation">)</span>
name: h2o_feet
<span class="token operator">+</span><span class="token comment">---------------------+-------------+</span>
<span class="token operator">|</span> <span class="token keyword">time</span>                <span class="token operator">|</span> water_level <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------------+</span>
<span class="token operator">|</span> <span class="token number">1566086400000000000</span> <span class="token operator">|</span> <span class="token number">2.352</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566086760000000000</span> <span class="token operator">|</span> <span class="token number">2.379</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566087120000000000</span> <span class="token operator">|</span> <span class="token number">2.343</span>       <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1566087480000000000</span> <span class="token operator">|</span> <span class="token number">2.329</span>       <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+-------------+</span>
<span class="token number">2</span> <span class="token keyword">columns</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该查询结果中，时间戳包含了美国/芝加哥（<code>America/Chicago</code>）的时区的UTC偏移量（<code>-05:00</code>）。</p>`,35);function f(q,C){const p=l("RouterLink"),o=l("font");return c(),i("div",null,[k,n("p",null,[s("开始探索数据之前，为了更好地演示下面的语法，我们先导入一些公开可用数据，请先按照"),a(p,{to:"/zh/guide/reference/sample_data.html"},{default:e(()=>[s("样本数据")]),_:1}),s("文档录入数据。")]),u,n("p",null,[s("其他支持的功能： "),a(p,{to:"/zh/guide/reference/math.html"},{default:e(()=>[s("数学表达式")]),_:1}),s("、 "),a(p,{to:"/zh/guide/functions/aggregate.html"},{default:e(()=>[s("聚合算子")]),_:1}),s("、 "),m]),b,a(o,{size:"4",color:"green"},{default:e(()=>[s("TAGS")]),_:1}),v,a(o,{size:"4",color:"green"},{default:e(()=>[s("Fields")]),_:1}),g,a(o,{size:"4",color:"green"},{default:e(()=>[s("Timestamp")]),_:1}),h,a(o,{size:"4",color:"green"},{default:e(()=>[s("GROUP BY TAGS")]),_:1}),y,a(o,{size:"4",color:"green"},{default:e(()=>[s("GROUP BY TIME INTERVALS")]),_:1}),_,a(o,{size:"4",color:"green"},{default:e(()=>[s("time(time_interval)")]),_:1}),w,a(o,{size:"4",color:"green"},{default:e(()=>[s("fill()")]),_:1}),E])}const R=r(d,[["render",f],["__file","select.html.vue"]]);export{R as default};
